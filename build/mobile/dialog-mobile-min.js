!function(t){function n(){var t=o(document.documentElement),n=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||["","o"])[1],e="WebKit|Moz|MS|O".match(new RegExp("("+n+")","i"))[1];return{dom:e,lowercase:n,css:"-"+n+"-",js:n[0].toUpperCase()+n.substr(1)}}function o(n,o){return(t.getComputedStyle?t.getComputedStyle(n,o||null):n.currentStyle)||null}function e(t){this.options=$.extend({},s,t?t:{}),this.isClosed=!1,i&&i.close(),this.view()}var i=null,a=1,l=999900,s={type:"load",className:"",time:!1,mask:!0,maskClose:!0,html:"",animation:!1,unload:!0,align:"center",buttons:[{name:"取消",callback:function(){}},{name:"确认",callback:function(){}}],init:function(){},closeFn:function(){}},c={webkit:"webkitAnimationEnd",o:"oAnimationEnd",ms:"MSAnimationEnd",animation:"animationend"},m=c[n().lowercase]||c.animation;e.prototype.view=function(){var t=this,n=t.options,o=n.type,e=n.html,i=$('<div class="xcy-layer '+n.className+'"></div>'),s="",c="",m=n.align,d={};t.$el=i,("load"==o||"tip"==o)&&(c+="load"==o?'<div class="xcy-load"> </div><div class="xcy-text">'+e+"</div>":e,s='<div class="xcy-load-box">'+c+"</div>"),("confirm"==o||"alert"==o)&&($.each(n.buttons,function(t,n){c+='<div class="xcy-btn">'+n.name+"</div>"}),s='<div class="xcy-box"><div class="xcy-con">'+e+'</div><div class="xcy-btns">'+c+"</div></div>"),"page"==o?i.html(e):i.html('<div class="xcy-main"><div class="xcy-section">'+s+"</div></div>"),n.mask&&(t.$mask=$('<div class="xcy-mask"></div>'),t.$mask.attr("id","xcy-layer-"+a++),$("body").append(t.$mask),t.$mask.css({zIndex:l++})),n.animation&&i.addClass(n.animation+"in"),i.attr("id","xcy-layer-"+a++),$("body").append(i),t.action(),"center"==m?d={marginTop:-(t.$el.height()/2),marginLeft:-(t.$el.width()/2),left:"50%",top:"50%"}:"bottom"==m||"top"==m?(d[m]=0,d.width="100%"):("left"==m||"right"==m)&&(d[m]=0,d.top=0,d.height="100%"),d.zIndex=l++,t.$el.css(d)},e.prototype.action=function(){var t=this,n=t.options,o=(n.type,n.time),e=(n.html,null);o!==!1&&(1==o&&(o=1200),e=setTimeout(function(){t.close()},o)),n.mask&&t.$mask.on("click touchmove",function(){t.isClosed||(e&&clearTimeout(e),t.isClosed=!0,t.close())}),$btns=$(".xcy-btn",t.$el),0!==$btns.length&&$(".xcy-btn",t.$el).each(function(o){var e=$(this),i=n.buttons[o];e.click(function(){callback=i.callback?i.callback(e.text()):null,callback!==!1&&t.close()})}),n.init()},e.prototype.close=function(){var t=this,n=t.options;n&&(n.unload?n.animation?t.animate(t.unload):t.unload():n.animation?t.animate(t.hide):t.hide(),i=null,n.closeFn())},e.prototype.animate=function(t){var n=this,o=n.options;n.$el.removeClass(o.animation+"in"),n.$el.addClass(o.animation+"out"),n.$el.on(m,function(){n.$el.removeClass(o.animation+"out"),t.apply(n),n.$el.off()})},e.prototype.unload=function(){var t=this,n=t.options;t.$el.find(".xcy-load").removeClass("xcy-load"),$(".xcy-btn",t.$el).off("click"),t.$el.remove(),n.mask&&(t.$mask.off("click touchmove"),t.$mask.remove()),t.options=null},e.prototype.show=function(){var t=this;t.options;i&&i.close(),t.$el.show(),t.$mask&&t.$mask.show(),i=t},e.prototype.hide=function(){var t=this;t.options;t.$el.hide(),t.$mask&&t.$mask.hide(),t.isClosed=!1};var d={create:function(t){return i=new e(t)},load:function(t,n,o){return i=new e({html:t,time:void 0!==n?n:1200,maskClose:o?o:!1})},confirm:function(t,n,o,a){return i=new e({type:"confirm",html:t,maskClose:a?a:!1,buttons:[{name:"取消",callback:o},{name:"确认",callback:n}]})},alert:function(t,n,o){return i=new e({type:"alert",html:t,maskClose:o?o:!1,buttons:[{name:"确认",callback:n?n:function(){}}]})},tip:function(t,n,o,a){return i=new e({type:"tip",html:t,time:"number"==typeof n?n:1200,maskClose:"boolean"==typeof o?o:!0,closeFn:a?a:function(){}})},page:function(t,n,o){return i=new e({type:"page",html:t,init:n,maskClose:o?o:!0})},config:function(t){s=$.extend(s,t?t:{})}};"function"==typeof define?define(function(){return d}):t.Dialog=d}(window);
//# sourceMappingURL=../mobile/dialog-mobile-min.js.map