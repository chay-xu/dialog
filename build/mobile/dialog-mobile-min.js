!function(t){function n(){var t=e(document.documentElement),n=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||["","o"])[1],o="WebKit|Moz|MS|O".match(new RegExp("("+n+")","i"))[1];return{dom:o,lowercase:n,css:"-"+n+"-",js:n[0].toUpperCase()+n.substr(1)}}function e(n,e){return(t.getComputedStyle?t.getComputedStyle(n,e||null):n.currentStyle)||null}function o(t){this.options=$.extend({},c,t?t:{}),this.isClosed=!1,i&&i.close(),this.view()}var i=null,a=1,l=999900,c={type:"load",time:!1,shade:!0,shadeClose:!0,html:"",animation:!1,unload:!0,align:"center",buttons:[{name:"取消",callback:function(){}},{name:"确认",callback:function(){}}],init:function(){},closeFn:function(){}},s={webkit:"webkitAnimationEnd",o:"oAnimationEnd",ms:"MSAnimationEnd",animation:"animationend"},d=s[n().lowercase]||s.animation;o.prototype.view=function(){var t=this,n=t.options,e=n.type,o=n.html,i=$('<div class="xcy-layer"></div>'),c="",s="",d=n.align,u={};t.$el=i,("load"==e||"tip"==e)&&(s+="load"==e?'<div class="xcy-load"> </div><div class="xcy-text">'+o+"</div>":o,c='<div class="xcy-load-box">'+s+"</div>"),("confirm"==e||"alert"==e)&&($.each(n.buttons,function(t,n){s+='<div class="xcy-btn">'+n.name+"</div>"}),c='<div class="xcy-box"><div class="xcy-con">'+o+'</div><div class="xcy-btns">'+s+"</div></div>"),"page"==e?i.html(o):i.html('<div class="xcy-main"><div class="xcy-section">'+c+"</div></div>"),n.shade&&(t.$shade=$('<div class="xcy-shade"></div>'),t.$shade.attr("id","xcy-layer-"+a++),$("body").append(t.$shade),t.$shade.css({zIndex:l++})),n.animation&&i.addClass(n.animation+"in"),i.attr("id","xcy-layer-"+a++),$("body").append(i),t.action(),"center"==d?u={marginTop:-(t.$el.height()/2),marginLeft:-(t.$el.width()/2),left:"50%",top:"50%"}:"bottom"==d||"top"==d?(u[d]=0,u.width="100%"):("left"==d||"right"==d)&&(u[d]=0,u.top=0,u.height="100%"),u.zIndex=l++,t.$el.css(u)},o.prototype.action=function(){var t=this,n=t.options,e=(n.type,n.time);n.html;e!==!1&&(1==e&&(e=1200),setTimeout(function(){t.close()},e)),n.shade&&t.$shade.on("click touchmove",function(){t.isClosed||(t.isClosed=!0,t.close())}),$btns=$(".xcy-btn",t.$el),0!==$btns.length&&$(".xcy-btn",t.$el).each(function(e){var o=$(this),i=n.buttons[e];o.click(function(){callback=i.callback?i.callback(o.text()):null,callback!==!1&&t.close()})}),n.init()},o.prototype.close=function(){var t=this,n=t.options;n&&(n.unload?n.animation?t.animate(t.unload):t.unload():n.animation?t.animate(t.hide):t.hide(),i=null,n.closeFn())},o.prototype.animate=function(t){var n=this,e=n.options;n.$el.removeClass(e.animation+"in"),n.$el.addClass(e.animation+"out"),n.$el.on(d,function(){n.$el.removeClass(e.animation+"out"),t.apply(n),n.$el.off()})},o.prototype.unload=function(){var t=this,n=t.options;t.$el.find(".xcy-load").removeClass("xcy-load"),$(".xcy-btn",t.$el).off("click"),t.$el.remove(),n.shade&&(t.$shade.off("click touchmove"),t.$shade.remove()),t.options=null},o.prototype.show=function(){var t=this;t.options;i&&i.close(),t.$el.show(),t.$shade&&t.$shade.show(),i=t},o.prototype.hide=function(){var t=this;t.options;t.$el.hide(),t.$shade&&t.$shade.hide(),t.isClosed=!1};var u={create:function(t){return i=new o(t)},load:function(t,n,e){return i=new o({html:t,time:void 0!==n?n:1200,shadeClose:e?e:!1})},confirm:function(t,n,e,a){return i=new o({type:"confirm",html:t,shadeClose:a?a:!1,buttons:[{name:"取消",callback:e},{name:"确认",callback:n}]})},alert:function(t,n,e){return i=new o({type:"alert",html:t,shadeClose:e?e:!1,buttons:[{name:"确认",callback:n?n:function(){}}]})},tip:function(t,n,e,a){return i=new o({type:"tip",html:t,time:"number"==typeof n?n:1200,shadeClose:"boolean"==typeof e?e:!0,closeFn:a?a:function(){}})},page:function(t,n,e){return i=new o({type:"page",html:t,callback:n,shadeClose:e?e:!0})},config:function(t){c=$.extend(c,t?t:{})}};"function"==typeof define?define(function(){return u}):t.Dialog=u}(window);
//# sourceMappingURL=../mobile/dialog-mobile-min.js.map